# 创建react typescript 的项目

#### 安装工具
  安装 `npm install -g pnpm@latest-10`

#### 创建react typescript的项目
1. 安装react
`pnpm create vite 项目名称 --template react-ts`

2. 下载资源
`pnpm install`

3. 运行项目
`pnpm run dev`

#### pnpm 常用的命令
| 操作     | npm                     | pnpm                 |
| ------ | ----------------------- | -------------------- |
| 安装依赖   | `npm install`           | `pnpm install`       |
| 添加依赖   | `npm install axios`     | `pnpm add axios`     |
| 添加开发依赖 | `npm install -D eslint` | `pnpm add -D eslint` |
| 删除依赖   | `npm uninstall axios`   | `pnpm remove axios`  |
| 运行脚本   | `npm run dev`           | `pnpm dev`           |

# 创建zustand的基本使用环境

#### 安装zustand `pnpm add zustand`

#### 配置 @ 路径别名

**主要需要修改两个文件**

1.  vite.config.ts：让 Vite 在构建和开发时能够解析这些别名。
2.  tsconfig.json：让 TypeScript 编译器和你的 IDE (如 VS Code) 能够理解这些别名，提供正确的类型检查和路径提示。
3.  tsconfig.app.json 添加一行代码即可

**vite.config.ts**

```bash
# 使用 npm
npm install -D @types/node

# 或者使用 yarn
yarn add -D @types/node

# 或者使用 pnpm
pnpm add -D @types/node
```

```js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
//import path
import path from 'path'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src')
    }
  }
})
```

**tsconfig.json**


```js
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": { // 这些选项会被 tsconfig.app.json 继承
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  }
}
```

**tsconfig.app.json**

![](../picture/zustand/2.png)

```js
{
  //添加 这一行即可
  "extends": "./tsconfig.json",

  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    .....
  }}
```

# 使用zustand做一个简单的案例

在src目录下创建 `store/index.ts`  `components/Home.tsx`

![](../picture/zustand/3.png)

**index.ts**
```js
//导入zustand的create 函数
import {create} from 'zustand'

//使用create函数创建useStore 的 Hook
const useStore = create(()=> {
  //return 中可以存放全局共享的 数据 和 方法
  return {
    bears: 9
  }
})

//导出useStore
export default useStore
```

**Home.tsx**
```js
//引入useStore
import useStore from '@/store/index.ts'

const Home = () => {
  //在需要的组件中 调用useStore
  const bears = useStore(state=> state.bears)
  return (
    <div>
      <h1>bears counte is : {bears}</h1>
    </div>
  )
}

export default Home
```

# 添加类型提示在 vite-env.d.ts

![](../picture/zustand/4.png)

在index.ts中使用

![](../picture/zustand/5.png)

泛型后面多添加一个小括号是官方建议的











